package me.krymz0n.simpleexploitfixer.listener;

import me.krymz0n.simpleexploitfixer.Main;
import org.bukkit.ChatColor;
import org.bukkit.Material;
import org.bukkit.block.Block;
import org.bukkit.block.BlockState;
import org.bukkit.block.data.type.RespawnAnchor;
import org.bukkit.entity.Player;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.block.Action;
import org.bukkit.event.player.PlayerInteractEvent;

import static com.sun.org.apache.xalan.internal.xsltc.compiler.util.Type.Int;

public class InteractEvent implements Listener {
    private final Main plugin;

    public InteractEvent(Main plugin) {
        this.plugin = plugin;
    }

    @EventHandler
    public void onInteract(PlayerInteractEvent evt) {
        Player p = evt.getPlayer();
        if (evt.getAction() == Action.RIGHT_CLICK_BLOCK) {
            Block block = evt.getClickedBlock();
            if (block.equals(Material.RESPAWN_ANCHOR) && p.getInventory().getItemInOffHand().getType().equals(Material.GLOWSTONE) || p.getInventory().getItemInMainHand().getType().equals(Material.GLOWSTONE)) {
                p.sendMessage(ChatColor.RED + "sorry");
                evt.setCancelled(true);
            }
        }
    }
}
